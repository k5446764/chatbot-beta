// src/components/ShuttleBusCard.jsx
import React, { useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { FaBusAlt, FaMapSigns, FaCity, FaTrain, FaQuestionCircle, FaInfoCircle, FaClock } from 'react-icons/fa'; // FaTrain for 익산, FaCity for 전주
import { ArrowTopRightOnSquareIcon } from '@heroicons/react/24/outline';


// 애니메이션 Variants
const containerVariants = {
  hidden: { opacity: 0, scale: 0.98 },
  visible: {
    opacity: 1,
    scale: 1,
    transition: {
      staggerChildren: 0.1,
      delayChildren: 0.1,
    },
  },
};

const itemVariants = {
  hidden: { y: 15, opacity: 0 },
  visible: {
    y: 0,
    opacity: 1,
    transition: {
      type: 'spring',
      stiffness: 120,
      damping: 14,
    },
  },
};

const contentVariants = {
  hidden: { opacity: 0, x: -20 },
  visible: { opacity: 1, x: 0, transition: { duration: 0.3, ease: 'easeInOut' } },
  exit: { opacity: 0, x: 20, transition: { duration: 0.2, ease: 'easeInOut' } },
};

// 테이블 스타일링을 위한 컴포넌트 (재사용 가능)
const StyledTable = ({ headers, data, caption, fullWidthDetail = false }) => (
  <div className="overflow-x-auto shadow-md rounded-lg border border-gray-200 ">
    {caption && <p className="text-xs text-gray-500  p-2 bg-gray-50 ">{caption}</p>}
    <table className="min-w-full text-xs md:text-sm divide-y divide-gray-200 ">
      <thead className="bg-gray-100  sticky top-0">
        <tr>
          {headers.map((header, index) => (
            <th 
              key={index} 
              scope="col" 
              className={`px-3 py-2.5 text-left font-semibold text-gray-600  uppercase tracking-wider ${fullWidthDetail && index === headers.length -1 ? 'w-3/5' : ''}`}
            >
              {header}
            </th>
          ))}
        </tr>
      </thead>
      <tbody className="bg-white  divide-y divide-gray-200 ">
        {data.map((row, rowIndex) => (
          <tr key={rowIndex} className="even:bg-white  odd:bg-gray-50  hover:bg-gray-100  transition-colors">
            {row.map((cell, cellIndex) => (
              <td key={cellIndex} className="px-3 py-2.5 whitespace-normal"> {/* whitespace-normal로 변경하여 자동 줄바꿈 */}
                {cell}
              </td>
            ))}
          </tr>
        ))}
      </tbody>
    </table>
  </div>
);

const ShuttleBusCard = () => {
  const [activeTab, setActiveTab] = useState('군산방면');

  const routesData = {
    '군산방면': {
      icon: FaMapSigns,
      content: (
        <>
          <StyledTable
            headers={["출발지", "시간", "경유장소 및 경유시간"]}
            data={[
              ["미룡주공1차", "07:55", "미룡주공1차A정류장(07:55)→라마다호텔 맞은편 버스정류장(07:58)→세경A입구하나은행앞(세경플라자)(08:02)→수송동신A맞은편버스정류장(08:04)→비발디2차입구(08:07)→세영리첼앞 버스정류장(08:09)→파인빌2차옆파리바케트앞 버스정류장(08:11)→학교도착(08:35)"],
              ["군산상고", "07:52", "군산상고버스정류장(07:52)→나운동KT버스정류장(07:53)→군산문화원(구방송국)버스정류장(07:54)→나운동오픈박스앞(07:55)→소룡동롯데리아 옆(07:58)→은적사군산제일신협앞(08:00)→성원쌍데빌A정류장(08:02)→클래시움A정류장(08:04)→창성주공A앞(08:06)→미원동박외과앞(08:11)→이마트맞은편(08:14)→롯데몰맞은편일품한우(08:16)→조촌동삼성A앞(08:18)→학교도착(08:45)"],
              ["진포문화원", "08:07", "진포문화원(대성한의원맞은편대로변)(08:07)→주공5차A정류장(08:13)→수송현대항장외과앞(08:15)→장미장옆 삼일유리앞 호원대정류장(08:18)→월명게이트볼장맞은편(08:21)→대야새마을금고앞(08:25)→학교도착(08:40)"],
              ["해나지오", "08:11", "해나지오맞은편이디야커피앞(08:11)→수송동신A맞은편(08:13)→롯데마트맞은편올리브영앞(08:17)→헤어에비뉴맞은편(미장휴먼시아)(08:18)→군산세무소정류장(08:19)→학교도착(08:40)"],
              ["한라비발디 A (영광한의원)", "08:40", "학교(08:40)→한라비발디A대로변(08:58)→수송동신A옆 삼촌네마트앞(08:59)→롯데사거리유진약국앞(09:02)→한화생명옆(09:05)→영광한의원앞(09:06)→신풍동주민센터앞(09:08)→진포문화원(09:10)→주공5차A(09:14)→수송현대항장외과앞(09:16)→장미장옆삼일유리앞(09:20)→월명게이트볼맞은편(09:23)→학교도착(09:40)"],
              ["한라비발디 A (예술의 전당)", "11:00", "학교(11:00)→한라비발디A대로변(11:18)→수송동신A옆삼촌네마트앞(11:19)→예술의전당앞(11:22)→주공5차A(11:24)→수송현대항장외과앞(11:26)→장미장옆 삼일유리앞(11:29)→월명게이트볼맞은편(11:32)→학교도착(11:55)"],
              ["한라비발디 A (영광한의원)", "12:00", "학교(12:00)→한라비발디A대로변(12:20)→수송동신A옆삼촌네마트앞(12:21)→롯데사거리유진약국앞(12:24)→한화생명옆(12:27)→영광한의원앞(12:28)→신풍동주민센터앞(12:30)→진포문화원(12:32)→주공5차A(12:36)→수송현대항장외과앞(12:38)→장미장옆 삼일유리앞(12:42)→월명게이트볼맞은편(12:45)→학교도착(13:02)"],
              ["한라비발디 A (예술의 전당)", "13:30", "학교(13:30)→한라비발디A대로변(13:48)→수송동신A옆삼촌네마트앞(13:49)→예술의전당앞(13:52)→주공5차A(13:54)→수송현대항장외과(13:56)→장미장옆 삼일유리앞(13:59)→월명게이트볼맞은편(14:02)→학교도착(14:19)"],
              ["한라비발디 A (영광한의원)", "15:30", "학교(15:30)→한라비발디A대로변(15:48)→수송동신A옆삼촌네마트앞(15:49)→롯데사거리유진약국앞(15:52)→한화생명옆(15:55)→영광한의원앞(15:56)→신풍동주민센터앞(15:58)→진포문화원(16:00)→주공5차A(16:04)→수송현대항장외과앞(16:06)→장미장옆 삼일유리앞(16:10)→월명게이트볼맞은편(16:13)→학교도착(16:30)"],
              ["미룡주공1차A", "16:30", "학교(16:30)→한라비발디A대로변(16:48)→수송동신A옆삼촌네마트앞(16:49)→롯데사거리유진약국앞(16:52)→나운동버거킹옆(16:54)→라마다호텔앞(16:56)→미룡주공1차A맞은편(17:01도착/17:10출발)→학교도착(17:45)"],
              ["한라비발디 A (예술의 전당)", "17:00", "학교(17:00)→한라비발디A대로변(17:18)→수송동신A옆삼촌네마트앞(17:19)→예술의전당앞(17:22)→주공5차A(17:24)→수송현대항장외과앞(17:26)→장미장옆 삼일유리앞(17:29)→월명게이트볼맞은편(17:32)→학교도착(17:49)"],
              ["한라비발디 A (영광한의원)", "18:10", "학교(18:10)→한라비발디A대로변(18:28)→수송동신A옆삼촌네마트앞(18:29)→롯데사거리유진약국앞(18:32)→한화생명옆(18:35)→영광한의원앞(18:36)→신풍동주민센터앞(18:38)→진포문화원(18:40)→주공5차A(18:44)→수송현대항장외과앞(18:46)→장미장옆 삼일유리앞(18:50)→월명게이트볼맞은편(18:53)→학교도착(19:10)"],
              ["롯데몰 맞은편 일품한우", "18:10", "학교→조촌동삼성A맞은편→롯데몰정류장→이마트정류장→미원동박외과맞은편→창성주공A→성원쌍떼빌A앞→은적사군산제일신협앞→동아A정류장→라마다호텔앞→미룡주공1차A맞은편. 끝."],
              ["한라비발디 A (예술의 전당)", "19:30", "학교(19:30)→한라비발디A대로변(19:48)→수송동신A옆삼촌네마트앞(19:49)→예술의전당앞(19:52)→주공5차A(19:54)→수송현대항장외과앞(19:56)→장미장옆 삼일유리앞(19:59)→월명게이트볼맞은편(20:02)→학교도착(20:19)"],
              ["한라비발디 A (영광한의원)", "20:40", "학교(20:40)→한라비발디A대로변(20:58)→수송동신A옆삼촌네마트앞(20:59)→롯데사거리유진약국앞(21:02)→한화생명옆(21:05)→영광한의원앞(21:06)→신풍동주민센터앞(21:08)→진포문화원(21:11)→주공5차A(21:15)→수송현대항장외과앞(21:17)→장미장옆 삼일유리앞(21:21)→월명게이트볼맞은편(21:24)→학교도착(21:41)"],
              ["한라비발디 A (영광한의원)", "22:10", "학교(22:10)→한라비발디A대로변→수송동신A옆삼촌네마트앞→한화생명옆→진포문화원→주공5차A→장미장옆 삼일유리앞. 끝."],
            ]}
            fullWidthDetail={true}
          />
        </>
      )
    },
    '익산방면': {
      icon: FaTrain,
      content: (
        <>
          <p className="font-semibold text-base mb-2 text-gray-800 ">평일 시간표</p>
          <StyledTable
            headers={["출발지", "시간", "경유장소 및 경유시간"]}
            data={[
                ["논산 출발", "07:40", "논산농협앞(고속터미널옆농협본점)(07:40)→함열익산시청북부청사(07:58)→모현동1가삼일꽃전문점앞(08:17)→익산성모간호학원(구흥국생명·익산역)(08:22)→대우의수족보조기앞(08:24)→메타상담센터앞(08:26)→영무예다음A(08:27)→장신휴먼시아A(08:29)→학교도착(08:45)"],
                ["영등동 CGV", "08:00", "익산농협북일지점앞(08:00)→CGV맥도날드옆(08:05)→LG전자서비스센터건너편국수나무어양점앞(08:07)→약촌오거리신일A(08:11)→고래등오거리전북은행앞(08:16)→이마트맞은편롯데하이마트앞(08:18)→학교도착(08:35)"],
                ["영등동 CGV", "08:05", "익산농협북일지점앞(08:05)→CGV맥도날드옆(08:10)→LG전자서비스센터건너편국수나무어양점앞(08:12)→약촌오거리신일A(08:16)→북부시장사거리귀뚜라미보일러서부점앞(08:21)→모현동1가삼일꽃전문점앞(08:24)→익산성모간호학원(08:27)→대우의수족보조기앞(08:29)→메타상담센터앞(08:31)→영무예다음A(08:32)→장신휴먼시아A(08:34)→학교도착(08:50)"],
                ["모현 시립도서관", "09:00", "학교(09:00)→모현시립도서관앞(09:15)→익산성모간호학원(09:17)→대우의수족보조기앞(09:20)→메타상담센터앞(09:22)→영무예다음A(09:24)→장신휴먼시아A(09:26)→학교도착(09:46)"],
                ["영등동 CGV", "09:50", "학교(09:50)→익산농협북일지점앞(10:08)→CGV맥도날드옆(10:13)→LG전자서비스센터건너편국수나무어양점앞(10:15)→약촌오거리신일A(10:19)→북부시장사거리귀뚜라미보일러서부점앞(10:24)→모현동1가삼일꽃전문점앞(10:27)→익산성모간호학원(10:30)→대우의수족보조기앞(10:32)→메타상담센터앞(10:34)→영무예다음A(10:35)→장신휴먼시아A(10:37)→학교도착(10:53)"],
                ["모현 시립도서관", "11:00", "학교(11:00)→모현시립도서관앞(11:15)→익산성모간호학원(11:17)→대우의수족보조기앞(11:20)→메타상담센터앞(11:22)→영무예다음A(11:24)→장신휴먼시아A(11:26)→학교도착(11:46)"],
                ["영등동 CGV", "11:50", "학교(11:50)→익산농협북일지점앞(12:08)→CGV맥도날드옆(12:13)→LG전자서비스센터건너편국수나무어양점앞(12:15)→약촌오거리신일A(12:19)→북부시장사거리귀뚜라미보일러서부점앞(12:24)→모현동1가삼일꽃전문점앞(12:27)→익산성모간호학원(12:30)→대우의수족보조기앞(12:32)→메타상담센터앞(12:34)→영무예다음A(12:35)→장신휴먼시아A(12:37)→학교도착(12:53)"],
                ["모현 시립도서관", "13:30", "학교(13:30)→모현시립도서관앞(13:45)→익산성모간호학원(13:47)→대우의수족보조기앞(13:50)→메타상담센터앞(13:52)→영무예다음A(13:54)→장신휴먼시아A(13:56)→학교도착(14:16)"],
                ["영등동 CGV", "14:30", "학교(14:30)→익산농협북일지점앞(14:48)→CGV맥도날드옆(14:53)→LG전자서비스센터건너편국수나무어양점앞(14:55)→약촌오거리신일A(14:59)→북부시장사거리귀뚜라미보일러서부점앞(15:04)→모현동1가삼일꽃전문점앞(15:07)→익산성모간호학원(15:10)→대우의수족보조기앞(15:12)→메타상담센터앞(15:14)→영무예다음A(15:15)→장신휴먼시아A(15:17)→학교도착(15:33)"],
                ["모현 시립도서관", "15:30", "학교(15:30)→모현시립도서관앞(15:45)→익산성모간호학원(15:47)→대우의수족보조기앞(15:50)→메타상담센터앞(15:52)→영무예다음A(15:54)→장신휴먼시아A(15:56)→학교도착(16:13)"],
                ["영등동 CGV", "16:30", "학교(16:30)→익산농협북일지점앞(16:48)→CGV맥도날드옆(16:53)→LG전자서비스센터건너편국수나무어양점앞(16:55)→약촌오거리신일A(16:59)→북부시장사거리귀뚜라미보일러서부점앞(17:04)→모현동1가삼일꽃전문점앞(17:07)→익산성모간호학원(17:10)→대우의수족보조기앞(17:12)→메타상담센터앞(17:14)→영무예다음A(17:15)→장신휴먼시아A(17:17)→학교도착(17:33)"],
                ["영등동 CGV", "17:00", "학교(17:00)→익산농협북일지점앞(17:18)→CGV맥도날드옆(17:23)→LG전자서비스센터건너편국수나무어양점앞(17:25)→약촌오거리신일A(17:29)→북부시장사거리귀뚜라미보일러서부점앞(17:34)→모현동1가삼일꽃전문점앞(17:37)→익산성모간호학원(17:40)→대우의수족보조기앞(17:42)→메타상담센터앞(17:44)→영무예다음A(17:45)→장신휴먼시아A(17:47)→학교도착(18:03)"],
                ["논산방면 귀가", "18:10", "학교→장신휴먼시아건너편정류장→익산역→메타상담센터대로변→이마트앞대로변→고래등오거리전북은행맞은편→함열→논산. 끝."],
                ["영등동 CGV", "18:10", "학교(18:10)→익산농협북일지점앞(18:28)→CGV맥도날드옆(18:33)→LG전자서비스센터건너편국수나무어양점앞(18:35)→약촌오거리신일A(18:39)→북부시장사거리귀뚜라미보일러서부점앞(18:44)→모현동1가삼일꽃전문점앞(18:47)→익산성모간호학원(18:50)→대우의수족보조기앞(18:52)→메타상담센터앞(18:54)→영무예다음A(18:55)→장신휴먼시아A(18:57)→학교도착(19:13)"],
                ["모현 시립도서관", "19:30", "학교(19:30)→모현시립도서관앞(19:43)→익산성모간호학원(19:45)→대우의수족보조기앞(19:47)→메타상담센터앞(19:49)→영무예다음A(19:50)→장신휴먼시아A(19:52)→학교도착(20:12)"],
                ["영등동 CGV", "20:40", "학교(20:40)→익산농협북일지점앞(20:58)→CGV맥도날드옆(21:03)→LG전자서비스센터건너편국수나무어양점앞(21:05)→약촌오거리신일A(21:09)→북부시장사거리귀뚜라미보일러서부점앞(21:14)→모현동1가삼일꽃전문점앞(21:17)→익산성모간호학원(21:20)→대우의수족보조기앞(21:22)→메타상담센터앞(21:24)→영무예다음A(21:25)→장신휴먼시아A(21:27)→학교도착(21:43)"],
                ["익산역 방면 귀가", "22:10", "학교→메타상담센터맞은편→대우의수족보조기맞은편→익산성모간호학원맞은편→원대병원맞은편→전자랜드사거리. 끝."],
            ]}
            fullWidthDetail={true}
          />
          <p className="font-semibold text-base mt-6 mb-2 text-gray-800 ">주말 시간표 (토요일)</p>
           <StyledTable
            headers={["요일", "정류장", "1회", "2회", "3회", "4회", "5회", "6회"]}
            data={[
                ["토요일", "학교", "09:00", "11:00", "15:00", "17:00", "19:00", "-"],
                ["", "CGV", "-", "11:18", "15:18", "17:18", "19:18", "-"],
                ["", "모현 도서관", "09:13", "-", "-", "-", "-", "-"],
                ["", "(구)흥국생명 (익산역)", "09:15", "11:34", "15:34", "17:34", "19:34", "-"],
                ["", "대우 의수족보조기 (익산역)", "09:17", "11:36", "15:36", "17:36", "19:36", "-"],
            ]}
          />
           <p className="font-semibold text-base mt-6 mb-2 text-gray-800 ">주말 시간표 (일요일)</p>
           <StyledTable
            headers={["요일", "정류장", "1회", "2회", "3회", "4회", "5회", "6회", "7회"]}
            data={[
                ["일요일", "학교", "09:00", "11:00", "15:00", "17:00", "18:00", "19:00", "20:00"],
                ["", "CGV", "09:18", "11:18", "-", "17:18", "-", "-", "20:18"],
                ["", "모현 도서관", "-", "-", "15:13", "-", "18:13", "19:13", "-"],
                ["", "(구)흥국생명 (익산역)", "09:34", "11:34", "15:18", "17:34", "18:18", "19:18", "20:34"],
                ["", "대우 의수족보조기 (익산역)", "09:36", "11:36", "15:20", "17:36", "18:20", "19:20", "20:36"],
            ]}
          />
        </>
      )
    },
    '전주방면': {
      icon: FaCity,
      content: (
        <>
          <StyledTable
            headers={["출발지", "시간", "경유장소 및 경유시간"]}
            data={[
                ["리젠시빌 (평화동)", "07:30", "리젠시빌A앞 동도미소드림정류장(07:30)→평화국민은행앞(07:32)→맥도날드앞(07:40)→전북소망교회앞(07:43)→메르츠화재옆 광진선수촌A(07:50)→한샘옆 광진산업A(07:53)→서곡동 하이마트앞(07:55)→정암마을맞은편(08:00)→학교도착(08:40)"],
                ["참예수교회 (평화동)", "07:30", "참예수교회앞(07:30)→효자동 연와미당앞(07:32)→홈플러스 옆 유심근한의원(07:36)→LH사옥 옆(07:39)→디아망웨딩샵앞(07:45)→KG골프샵앞(07:47)→만성초등학교앞(08:00)→양현고등학교앞(08:03)→학교도착(08:40)"],
                ["한우사랑 (우아동)", "07:40", "고용노동청사앞(07:40)→원할머니보쌈맞은편 한우사랑(07:52)→고려콩나물맞은편(07:54)→전주역 파출소(07:56)→무안낙지맞은편 개성삼계탕앞(07:58)→호성동 파출소맞은편(08:00)→송천도서관맞은편 티스테이션앞(08:03)→송천메가월드맞은편 K2매장(08:06)→학교도착(08:46)"],
                ["전주시청 후문 호원대 정류장", "07:50", "전주시청후문건너(07:50)→태평양수영장호원대(07:52)→자산관리공사옆 알레르망스핑크스(07:56)→아울렛의류매장(구 동현마트)(07:58)→팔복동 KCC글라스앞(08:00)→전주공고 타이어뱅크옆(08:04)→학교도착(08:38)"],
                ["전주시청 후문 호원대 정류장", "09:00", "학교(09:00)→전주시청후문건너(10:00)→태평양수영장호원대(10:02)→자산관리공사옆(10:06)→팔복동 KCC글라스앞(10:10)→전주공고타이어뱅크옆(10:14)→학교도착(10:49)"],
                ["전주시청 후문 호원대 정류장", "11:00", "학교(11:00)→전주시청후문건너(12:00)→태평양수영장호원대(12:02)→자산관리공사옆(12:06)→팔복동 KCC글라스앞(12:10)→전주공고타이어뱅크옆(12:14)→학교도착(12:49)"],
                ["전주시청 후문 호원대 정류장", "13:00", "학교(13:00)→전주시청후문건너(14:00)→태평양수영장호원대(14:02)→자산관리공사옆(14:06)→팔복동 KCC글라스앞(14:10)→전주공고타이어뱅크옆(14:14)→학교도착(14:49)"],
                ["맥도날드 맞은편 정류장", "15:10", "학교(15:10)→정암마을옆 타이어프로앞(15:40)→전주세무서앞(15:45)→서신신일아파트(15:57)→광진선수촌A맞은편(16:00)→전북소망교회맞은편(16:03)→맥도날드맞은편(16:06)→참병원맞은편(16:09)→한샘리하우스(16:15)→전주시청후문건너(16:20)→태평양수영장호원대(16:22)→자산관리공사옆(16:26)→학교도착(17:10)"],
                ["전주시청 후문 호원대 정류장", "16:10", "학교(16:10)→전주시청후문건너(17:10)→태평양수영장호원대(17:12)→자산관리공사옆(17:16)→팔복동 KCC글라스앞(17:20)→전주공고타이어뱅크옆(17:24)→학교도착(17:58)"],
                ["전주시청 후문 호원대 정류장", "17:10", "학교(17:10)→전주시청후문건너(18:10)→태평양수영장호원대(18:12)→자산관리공사옆(18:16)→팔복동 KCC글라스앞(18:20)→전주공고타이어뱅크옆(18:24)→학교도착(18:58)"],
                ["송천동 (메가월드)", "18:10", "학교→전주공고앞→팔복동 KCC글라스맞은편→자산관리공사옆→전주시청후문→원할머니보쌈맞은편→우아동(아중역)→전주역파출소→개성삼계탕앞→송천도서관맞은편→송천동(메가월드). 끝."],
                ["서곡동 하이마트", "18:10", "학교→평화국민은행앞→효자동연와미당앞→맥도날드앞→전북소망교회앞→메르츠화재옆→한샘옆→서곡동 하이마트. 끝."],
                ["양현고등학교", "18:10", "학교→정암마을옆 타이어프로앞→양현고등학교맞은편→케빈커피맞은편→KG골프샵맞은편→디아망웨딩샵맞은편→LH사옥옆→홈플러스옆 유심근한의원맞은편. 끝."],
                ["전주시청 후문 호원대 정류장", "19:30", "학교→전주공고앞→팔복동 KCC글라스맞은편→덕진광장맞은편→태평양수영장로이젠금암점맞은편→전주시청후문. 끝."],
                ["전주시청 후문 호원대 정류장", "20:40", "학교→전주공고앞→팔복동 KCC글라스맞은편→덕진광장맞은편→태평양수영장로이젠금암점맞은편→전주시청후문. 끝."],
                ["전주시청 후문 호원대 정류장", "22:10", "학교→전주공고앞→팔복동 KCC글라스맞은편→덕진광장맞은편→태평양수영장로이젠금암점맞은편→전주시청후문. 끝."],
            ]}
            fullWidthDetail={true}
          />
        </>
      )
    },
    '자주하는질문': {
      icon: FaQuestionCircle,
      content: (
        <div className="prose prose-sm  max-w-none space-y-3">
          <ul className="list-none p-0 space-y-4">
            <li>
              <strong>정기권, 정액권에 대해 알려주세요.</strong>
              <p className="mt-0.5">정기권(정기 승차카드): 노선별 금액 지불 후 한 학기(방학포함, 주말제외) 동안 이용<br/>
              정액권(충전식 카드): 버스 승차 시마다 금액 차감</p>
            </li>
            <li>
              <strong>정기권·정액권 신청(발급)은 어떻게 하나요?</strong>
              <p className="mt-0.5">정기권: 학교 인트라넷 및 학생지원처 방문 발급<br/>
              정액권: 학생지원처 방문 발급</p>
            </li>
            <li>
              <strong>카드를 분실했는데 재발급은 어떻게 하나요?</strong>
              <p className="mt-0.5">정기권: 카드 보증금(₩5,000) 납부 시 재발급 가능<br/>
              정액권: 분실 시 재발급 불가, 신규 발급 필요</p>
            </li>
             <li>
              <strong>노선은 어디서 확인하나요?</strong>
              <p className="mt-0.5">학교 홈페이지 → 호원광장 → 통학버스 시간표 → 노선 선택</p>
            </li>
            <li>
              <strong>환불 신청은 어떻게 하나요?</strong>
              <p className="mt-0.5">정액권: 상시 환불 가능<br/>
              정기권: 경과 기간에 따른 차등 환불 (학생지원처 문의)</p>
            </li>
            <li>
              <strong>카드 결제나 현금영수증 발급이 가능한가요?</strong>
              <p className="mt-0.5">불가: 학교가 운수업체가 아니므로 카드 결제 및 현금영수증 발급이 어렵습니다.</p>
            </li>
            <li>
              <strong>정기권·정액권 이용 노선 및 금액은?</strong>
              <p className="mt-0.5">정기권 (하루 2회 이용 기준):<br/>
              - 군산·익산: ₩150,000<br/>
              - 김제: ₩220,000<br/>
              - 전주·논산·부안: ₩330,000<br/>
              정액권 (1회 차감액):<br/>
              - 군산·익산: ₩1,200<br/>
              - 김제: ₩2,500<br/>
              - 전주·논산·부안: ₩3,500 (노선 제한 없이 충전금액만큼 자유 이용)
              </p>
            </li>
            <li>
              <strong>기타 문의사항</strong>
              <p className="mt-0.5">학생지원처 <a href="tel:0634507044" className="text-blue-600 hover:underline ">☎ 063-450-7044</a></p>
            </li>
          </ul>
        </div>
      )
    },
    '세부정보': {
      icon: FaInfoCircle,
      content: (
        <div className="space-y-3 text-center">
          <p>더 자세한 최신 통학버스 시간표와 운행 정보는 학교 홈페이지에서 확인하실 수 있습니다.</p>
          <a
            href="https://www.howon.ac.kr/web/_community/?code=bustime"
            target="_blank"
            rel="noopener noreferrer"
            className="inline-flex items-center justify-center bg-blue-600 hover:bg-blue-700   text-white font-semibold py-2.5 px-5 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75"
          >
            <ArrowTopRightOnSquareIcon className="h-5 w-5 mr-2" />
            통학버스 상세 시간표 확인하기
          </a>
        </div>
      )
    },
  };

  const tabKeys = Object.keys(routesData);

  return (
    <motion.div
      className="p-4 md:p-6 lg:p-8 max-w-6xl mx-5 bg-gray-50  rounded-2xl shadow-2xl"
      variants={containerVariants}
      initial="hidden"
      animate="visible"
    >
      <motion.h2
        variants={itemVariants}
        className="text-3xl md:text-4xl font-extrabold text-center text-indigo-600  mb-6 md:mb-8 flex items-center justify-center"
      >
        <FaBusAlt className="mr-3" />
        통학버스 안내
      </motion.h2>

      {/* 탭 버튼 영역 */}
      <motion.div variants={itemVariants} className="mb-6 md:mb-8">
        <div className="flex flex-wrap justify-center gap-2 sm:gap-3 border-b border-gray-200  pb-3">
          {tabKeys.map((key) => {
            const IconComponent = routesData[key].icon;
            return (
              <button
                key={key}
                onClick={() => setActiveTab(key)}
                className={`relative py-2.5 px-3 sm:px-4 text-xs sm:text-sm font-medium rounded-md transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75 flex items-center space-x-2
                  ${activeTab === key 
                    ? 'bg-indigo-600 text-white shadow-md' 
                    : 'bg-white  text-gray-600  hover:bg-gray-100 '
                  }`}
              >
                <IconComponent className={`${activeTab === key ? 'text-white' : 'text-indigo-500 '}`} />
                <span>{key}</span>
                {activeTab === key && (
                  <motion.div
                    className="absolute bottom-[-13px] left-0 right-0 h-[2px] bg-indigo-600 "
                    layoutId="underline" // 애니메이션을 위한 layoutId
                    transition={{ type: 'spring', stiffness: 380, damping: 30 }}
                  />
                )}
              </button>
            );
          })}
        </div>
      </motion.div>

      {/* 선택된 탭 내용 표시 영역 */}
      <motion.div
        variants={itemVariants}
        className="mt-4 p-4 md:p-6 bg-white  rounded-xl shadow-lg border border-gray-200  min-h-[400px]" // 내용에 따라 높이 조절
      >
        <AnimatePresence mode="wait">
          <motion.div
            key={activeTab} // activeTab이 변경될 때마다 애니메이션
            variants={contentVariants}
            initial="hidden"
            animate="visible"
            exit="exit"
            className="space-y-4"
          >
            <h3 className="text-xl md:text-2xl font-bold text-indigo-700  flex items-center mb-4">
              {React.createElement(routesData[activeTab].icon, { className: "mr-2.5" })} {/* 아이콘 동적 렌더링 */}
              {activeTab} {activeTab.includes('방면') ? '시간표' : ''}
            </h3>
            {routesData[activeTab].content}
          </motion.div>
        </AnimatePresence>
      </motion.div>
    </motion.div>
  );
};

export default ShuttleBusCard;